{"name":"GigCableLabels","tagline":"GigCableLabel Generates colour coded labels using the resister code codes to define cable sizes for easier identification from a distance.","body":"# GigCableLabels\r\n\r\nI currently work as a Tech in the Staging and AV world with various companies and I have noticed that many companies don't really follow a single industry standard for labeling their many cables, cases, lighting, audio, etc.  I wrote this program to help solve a problem that can help companies adopt a single standard for color coded labeling based on the resister colour code for 0-9.  The numeric codes are a maximum of 3 characters 0-9 and a letter for meters or feet.  QR code generation is placed beside the colour coded label.\r\n\r\n### The generated QR code can contain:\r\n\r\n- URL\r\n- E-mail address\r\n- Phone Number \r\n- SMS\r\n- Address VCARDS\r\n- Calendar Event\r\n- Custom Text\r\n\r\nQR codes have many uses for inventory, logistics, documentation, manifests or usage instructions to name a few.  I'm just tired of wasting my time looking for the right size cable when they are all labeled\r\ndifferently or not at ALL! on a job site.  An example of the dilemma I would face when looking for a 50 foot cable; which cable is more likely to be a 50 ft cable marking that is clear? \r\n\r\n- The one with the red label?\r\n- The one with the white label?\r\n- The one with the yellow label? \r\n- Green and Black label?\r\n\r\nIn the resistor code, Green is 5 and Black is 0; so what do you think makes the most sence when hiring many freelancers and/or techs/hands from labour companies?  The resistor code is the winner, but most are stuck in their old ways\r\n\r\n\r\n***\r\n\r\nThe QR code generation is from [phpqrcode](http://phpqrcode.sourceforge.net), this works very well and can be turned off in the class (not in the demo).  The QR code size (1 to 40) will be set based on the input string length and ECC level, all the maximum alphanumeric lengths I test against are listed on this [site](http://www.qrcode.com/en/vertable4.html) (link to page 4/4).  I've noticed that stretched QR code images don't work with Norton Snap on my iPhone 4, test your labels before you print any. I have 2 iPhone Apps for testing QR codes, Norton Snap and QRdeCODE. \r\n\r\n### The Demo:\r\n\r\nThe GigCableLabel demo will demonstrate this class in a RESTful Setup with PHP 5.3 and jQuery.  GET the label, PUT the label in the project directory, DELETE the selected labels from the project directory and POST a new project for labels.  There is still more work todo to make this tool a success, the UI is still very beta, view the [Demo](http://www.salamcast.com/demos/GigCableLabels/).  \r\n\r\n- double click the new label to clear the new image and close the window or drag and drop the label on the project window to save it.\r\n- added some multilingual support, English and goggle translated French, Arabic will be next -- Inshallah.\r\n- I have also added Arabic Number labels, but with an English UI\r\n- Multiple projects are now supported for multiple shows, shops, etc and can be made and loaded dynamically.\r\n- Most of the web apps text has been moved into ini text files and loaded as a single JSON object, making it easier to edit and add translations\r\n- added support for custom label sizes and page layout\r\n\r\n\r\n### A look at the giglabel.php as an example of how to use this class can be used.\r\n\r\n    <?php\r\n    require_once 'gigcablelabel.class.php';\r\n    // view switcher\r\n    if     (array_key_exists('ORIG_PATH_INFO', $_SERVER)) { $rest=$_SERVER['ORIG_PATH_INFO']; }\r\n    elseif (array_key_exists('PATH_INFO', $_SERVER)) { $rest=$_SERVER['PATH_INFO']; } else { $rest=''; }\r\n    // imgdata\r\n    if  (array_key_exists('QUERY_STRING', $_SERVER)) { $imgdata=$_SERVER['QUERY_STRING']; } \r\n    else { $imgdata=''; }\r\n    // RESTful CRUD access switcher\r\n    if  (array_key_exists('REQUEST_METHOD', $_SERVER)) { $method=$_SERVER['REQUEST_METHOD']; } \r\n    else { $method=''; }\r\n\r\n    $webdir=str_replace($_SERVER['DOCUMENT_ROOT'], '', dirname(__FILE__));\r\n\r\n    if ($rest) {\r\n     $r=explode('/', $rest);\r\n     array_shift($r); // drop blank before /\r\n     $page=array_shift($r);\r\n     switch ($page) {\r\n        case 'feed':\r\n         // Make dir\r\n         if($method == 'POST') {\r\n          $p=file_get_contents(\"php://input\");\r\n          $post=json_decode($p, true);\r\n          if (!array_key_exists('project', $post)) error_403();\r\n          if (!ctype_alnum($post['project'])) error_403();\r\n          $dir=GigCableLabel::dir().'/'.$post['project'];\r\n          if (!is_dir($dir)) mkdir(trim($dir), 0750, true);\r\n          success_201('http://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI']);\r\n         } else {\r\n          $p=array_shift($r);\r\n          $dir=GigCableLabel::dir().'/'.$p;\r\n          if ($p == '') error_400();\r\n          if (!ctype_alnum($p)) error_403();\r\n          if (!is_dir($dir)) error_404();\r\n         }\r\n\r\n         if($method == 'DELETE') {\r\n           $d=glob($dir.'/*.json');\r\n           $f=$dir.'/'.$imgdata.'.json';\r\n           if (in_array($f, $d)) {\r\n            if (is_file($f)) { unlink($f); } else { error_410(); }\r\n           } else { error_404(); }\r\n           unset($d);\r\n         } \r\n         if ($method == 'PUT') {\r\n          $j=file_get_contents(\"php://input\");\r\n          $file=json_decode($j, true);\r\n          if (! array_key_exists('code',$file) && !ctype_alnum ($file['code'])) error_404();\r\n          if (! array_key_exists('width',$file) && !ctype_alnum ($file['width'])) error_404();\r\n          if (! array_key_exists('height',$file) && !ctype_alnum ($file['height'])) error_404();\r\n          if (! array_key_exists('x',$file) && !is_numeric($file['x'])) error_404();\r\n          if (! array_key_exists('y',$file) && !is_numeric($file['y'])) error_404();\r\n\r\n          $file['published']=gmdate(DATE_ATOM,time());\r\n          $name=$dir.\"/\".str_replace(':', '|', $file['published']).\".json\";\r\n          $file['file']=$name;\r\n          $file['url']='http://'.$_SERVER['HTTP_HOST'].$webdir.trim($name, '.');\r\n          $file['id']=uuid($name, $file['code']);\r\n          $file['put']='http://'.$_SERVER['HTTP_HOST'].$_SERVER['REQUEST_URI'];\r\n          $file['project']=$p;\r\n          $json=json_encode($file, JSON_ERROR_SYNTAX);\r\n          if (! file_put_contents( $name, $json)) { error_412(); }\r\n          json_header();\r\n          echo $json;\r\n          exit();\r\n    \r\n         } elseif($method == 'DELETE' || $method == 'GET' || $method == 'POST') {\r\n          $uri='http://'.$_SERVER['HTTP_HOST'].$_SERVER['SCRIPT_NAME'];\r\n          $id=uuid($uri, 'atom');\r\n          $date=gmdate(DATE_ATOM,time());\r\n          json_header();\r\n          $j=glob($dir.\"/*.json\");\r\n          $proj=array();      \r\n          foreach ($j as $c) {\r\n           $link='http://'.$_SERVER['HTTP_HOST'].$webdir.urlencode(trim($c, '.'));\r\n           $f=file_get_contents($c);\r\n           $json=json_decode($f, true);\r\n           $proj[]=$json;\r\n          }\r\n          echo json_encode($proj);\r\n          exit();\r\n         } else { error_405(); }\r\n        break;\r\n        case 'ui.json': GigCableLabel::load_ui($imgdata); break;\r\n        case 'print':\r\n         $width=array_shift($r);\r\n         $height=array_shift($r);\r\n         $x=array_shift($r);\r\n         $y=array_shift($r);\r\n         $img_style=array_shift($r);\r\n         GigCableLabel::print_page($width, $height,$x,$y,$img_style,$imgdata) || error_404();    \r\n        break;\r\n        //case 'label':\r\n        //    $code=array_shift($r);\r\n        //    if (!ctype_alnum ($code)) error_404();\r\n        //    $label=new GigCableLabel($code);\r\n        //    $label->make_label();    \r\n        //break;\r\n        case 'QR':\r\n            $lvl=array_shift($r);\r\n            if (! ctype_upper($lvl)) error_404();\r\n            $code=array_shift($r);\r\n            if (!ctype_alnum ($code)) error_404();\r\n            $desc=trim(implode('//', $r), '/');\r\n            $label=new GigCableLabel($code);\r\n            $label->qr=TRUE;\r\n            $label->lang=$imgdata;\r\n            $label->errorCorrectionLevel=$lvl;\r\n            if ($label->desc=trim($desc)) {\r\n              $label->make_label();\r\n            } else { error_413(); }\r\n        break;\r\n     }\r\n     exit();\r\n    }\r\n    //$label=new GigCableLabel();       \r\n    //exit();\r\n    ?>\r\n   \r\n### Thanks\r\n\r\n- For creating the Arabic Images i took a look at the [ArGlyphs class](http://www.phpclasses.org/package/3192-PHP-Convert-Arabic-text-to-Unicode-for-rendering.html) by a brother from Syria - Khaled Al-Shamaa \r\n- It showed me how to use a ttf font file for creating UNICODE text images in GD images with imagettftext; imagestring was making the text too small.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}